<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>Add Course </title>
</head>

<script>
"use strict";
function add(x, y, z){
	x = document.getElementById('nm').value;
	y = document.getElementById('mt').value;
	z = document.getElementById('fn').value;
	array.push({name: x, midterm: y, final: z});
}

function print(){
	var table = document.createElement('table');
	var header = table.createTHead();
   	var header2 = table.createTHead();
   	var header3 = table.createTHead();
   	var row = header.insertRow(0);
   	var row2 = header2.insertRow(1);   
   	var row3 = header3.insertRow(2);

    var cell = row.insertCell(0);
    var cell2 = row.insertCell(1);
    var cell3 = row.insertCell(2);

	cell.innerHTML = "<b>Name</b>";
	cell2.innerHTML = "<b>Midterm</b>";
	cell3.innerHTML = "<b>Final</b>";

	for (var i = 0; i < array.length; i++) {
   	 var tr = document.createElement('tr');   
   	 var td1 = document.createElement('td');
   	 var td2 = document.createElement('td');
   	 var td3 = document.createElement('td');

   	 var text1 = document.createTextNode(array[i].name);
   	 var text2 = document.createTextNode(array[i].midterm);
   	 var text3 = document.createTextNode(array[i].final);

   	 td1.appendChild(text1);
   	 td2.appendChild(text2);
   	 td3.appendChild(text3);

   	 tr.appendChild(td1);
   	 tr.appendChild(td2);
   	 tr.appendChild(td3);
   	 table.appendChild(tr);
	}
	document.body.appendChild(table);

} 

 function average(){
 	var table = document.createElement('table');
	var header = table.createTHead();
   	var header2 = table.createTHead();
   
   	var row = header.insertRow(0);
   	var row2 = header2.insertRow(1);   
   	
    var cell = row.insertCell(0);
    var cell2 = row.insertCell(1);

	cell.innerHTML = "<b>Name</b>";
	cell2.innerHTML = "<b>Average</b>";

	for (var i = 0; i < array.length; i++) {
   	 var tr = document.createElement('tr');   
   	 var td1 = document.createElement('td');
   	 var td2 = document.createElement('td');
   	
   	 var txt = parseInt(array[i].midterm);
   	 var txt2 =  parseInt(array[i].final);
   	 var txt3 = (txt + txt2) / 2;
   	
   	 var txt4 = txt3.toString();

   	 var text1 = document.createTextNode(array[i].name);
   	 var av = document.createTextNode(txt4);
	

   	 td1.appendChild(text1);
   	 td2.appendChild(av);
   	
   	 tr.appendChild(td1);
   	 tr.appendChild(td2);
   	
   	 table.appendChild(tr);
	}

	document.body.appendChild(table);
}

function maxGrade(){
	var table = document.createElement('table');
	var header = table.createTHead();
   	var header2 = table.createTHead();
   
   	var row = header.insertRow(0);
   	var row2 = header2.insertRow(1);   
   	
    var cell = row.insertCell(0);
    var cell2 = row.insertCell(1);

	cell.innerHTML = "<b>Name</b>";
	cell2.innerHTML = "<b>Max</b>";

	var tr = document.createElement('tr');   
   	var td1 = document.createElement('td');
   	var td2 = document.createElement('td');

	let max=0;
   	let nm="a";
   	let m=0;
   	
   	while(m < array.length){
   		var txt = parseInt(array[m].midterm);
   		var txt2 =  parseInt(array[m].final);
   		var txt3 = (txt + txt2) / 2;

   		 if(txt3 > max){
   			max = txt3;
   			nm = array[m].name;
   			}
   			m++;
   		}
   	
   	var txt4 = max.toString();

   	var text1 = document.createTextNode(nm);
   	var av = document.createTextNode(txt4);

	td1.appendChild(text1);
   	td2.appendChild(av);
   	
   	tr.appendChild(td1);
   	tr.appendChild(td2);
   	
   	table.appendChild(tr);
	
	document.body.appendChild(table);
}

</script>

<body>
<h2 id=title></h2>

<p>
<b>Name</b> <input type=text id=nm style="width:100px"> &emsp; 
<p><p>
<b>Midterm</b> <input type=number id=mt style="width:100px"> 
</p><p>
<b>Final</b> <input type=number id=fn style="width:100px"> 
</p>

<p>
<input type=button value="Add"  onClick="add()">
<input type=button value="Print"  onClick="print()">
<input type=button value="Avg"  onClick="average()">
<input type=button value="Max"   onClick="maxGrade()">
</p>
 
<hr />
<script>
    title.innerText = document.title;
    var array = new Array();
</script>

</body>
</html>
